image:
  - melezhik/sparrow:alpine
  - melezhik/sparrow:debian
  
tasks:
 -
  name: go_test
  language: Bash
  code: |
    set -e
    go version
    cd source
    go test -v
  default: true
  depends:
    -
      name: go_build
 -
  name: go_build
  language: Bash
  code: |
    set -e
    go version
    cd source
    go build -v
  depends:
    -
      name: install-go
 -
    name: install-go
    language: Bash
    code: |
      sudo apk add go \
      --repository=http://dl-cdn.alpinelinux.org/alpine/edge/community

